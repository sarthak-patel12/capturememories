<!-- myapp/templates/upload_media.html -->

{% extends 'base.html' %}

{% block title %}Upload Wedding Media - My Wedding{% endblock %}

{% block base %}
  <div class="container mt-5">
    <h2 class="mb-4">Share Your Beautiful Moments</h2>
    
    <form method="post" enctype="multipart/form-data" class="mb-4">
      {% csrf_token %}
      <div class="mb-3">
        <label for="mediaType" class="form-label">Select Media Type</label>
        <select class="form-select" id="mediaType" name="media_type">
          <option value="image">Image</option>
          <option value="video">Video</option>
        </select>
      </div>
      <div class="mb-3">
        <label for="media" class="form-label">Choose File(s)</label>
        <input type="file" class="form-control" id="media" name="media" multiple>
      </div>
      <button type="submit" class="btn btn-primary">Upload Media</button>
    </form>

    {% if messages %}
      <div class="mt-3">
        {% for message in messages %}
          <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        {% endfor %}
      </div>
    {% endif %}


  </div>

  <script>
    // Script to toggle between image and video tabs
    $(document).ready(function(){
      $('#mediaTabs a').click(function (e) {
        e.preventDefault()
        $(this).tab('show')
      })
    });
  </script>
{% endblock %}
